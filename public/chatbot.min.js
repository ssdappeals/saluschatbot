!function () { const e = { webhookUrl: window.location.origin + "/api/webhook/d931c4a7-02f5-4359-918f-7ad3fae7b144/chat", title: "Salus Disability", welcomeMessage: "Hi There! Would you like a free Social Security consultation?", position: "bottom-right", primaryColor: "#f56447", secondaryColor: "#E4AE20" }; const t = document.createElement("style"); t.textContent = `#salus-chat-launcher{position:fixed;bottom:24px;right:24px;width:60px;height:60px;background:linear-gradient(135deg,var(--secondary-color,#E4AE20),var(--primary-color,#F56447));border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 14px rgba(0,0,0,0.25);z-index:9999;font-size:28px;color:white}#salus-chat-launcher svg{width:28px;height:28px;fill:white}#salus-chat-launcher .close-icon{display:none;font-size:32px;line-height:1}#salus-chat-window{position:fixed;bottom:96px;right:16px;width:100%;max-width:650px;min-width:320px;height:100%;max-height:650px;min-height:400px;background:white;border-radius:16px;box-shadow:0 16px 32px rgba(0,0,0,0.25);display:none;flex-direction:column;overflow:hidden;font-family:sans-serif;z-index:9998}#salus-chat-header{background:#fff;border-bottom:1px solid #eee;padding:12px 16px;display:flex;align-items:center}#salus-chat-header h2{font-size:16px;margin:0;flex:1}#salus-chat-close{background:none;border:none;font-size:28px;font-weight:bold;cursor:pointer;color:#aaa;padding:4px 8px;line-height:1}#salus-chat-body{flex:1;padding:12px;overflow-y:auto;display:flex;flex-direction:column}.salus-chat-message{margin-bottom:8px;max-width:80%;padding:10px 14px;border-radius:16px;line-height:1.4;font-size:14px}.salus-chat-message.user{align-self:flex-end;background:var(--primary-color,#ef7f3a);color:white}.salus-chat-message.bot{align-self:flex-start;background:#f0f0f0;color:#333}.salus-chat-message.bot a{color:#0066cc;text-decoration:underline;word-break:break-word}.salus-chat-message.bot p,.salus-chat-message.bot ul,.salus-chat-message.bot ol,.salus-chat-message.bot li{margin:0;padding:0;line-height:1.35}.salus-chat-message.bot p+p{margin-top:0.4em}.salus-chat-message.bot ul,.salus-chat-message.bot ol{margin-left:1em}#salus-chat-input-container{display:flex;border-top:1px solid #eee}#salus-chat-input{flex:1;padding:14px;border:none;outline:none;font-size:16px}#salus-chat-send{background:var(--primary-color,#f56447);border:none;color:white;padding:0 20px;font-size:16px;cursor:pointer}#salus-chat-send:disabled{background-color:#ccc;cursor:not-allowed}.salus-typing-indicator{display:flex;align-items:center;justify-content:flex-start;gap:4px}.salus-typing-indicator span{width:8px;height:8px;background-color:#999;border-radius:50%;animation:salus-bounce 1.4s infinite ease-in-out both}.salus-typing-indicator span:nth-child(1){animation-delay:-0.32s}.salus-typing-indicator span:nth-child(2){animation-delay:-0.16s}.salus-typing-indicator span:nth-child(3){animation-delay:0}@keyframes salus-bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}@media (max-width:640px){#salus-chat-window{position:fixed;top:0;left:0;bottom:0;right:0;width:100vw!important;height:100vh!important;max-width:none!important;max-height:none!important;min-width:100vw!important;min-height:100vh!important;border-radius:0!important;z-index:10001!important}}`, document.head.appendChild(t); const n = document.createElement("div"); n.innerHTML = `<div id="salus-chat-launcher" aria-label="Open chat"><svg class="chat-icon" viewBox="0 0 24 24"><path d="M12 3C6.486 3 2 6.589 2 11c0 1.905.812 3.661 2.174 5.07L2 21l5.137-1.63A11.35 11.35 0 0 0 12 19c5.514 0 10-3.589 10-8s-4.486-8-10-8Z"/></svg><span class="close-icon">&times;</span></div><div id="salus-chat-window"><div id="salus-chat-header"><h2></h2><button id="salus-chat-close">&times;</button></div><div id="salus-chat-body"></div><div id="salus-chat-input-container"><input id="salus-chat-input" placeholder="Type a message..." /><button id="salus-chat-send" disabled>Send</button></div></div>`, document.body.appendChild(n), window.initSalusChat = function (t = {}) { const n = { ...e, ...t }; document.documentElement.style.setProperty("--primary-color", n.primaryColor), document.documentElement.style.setProperty("--secondary-color", n.secondaryColor); const o = crypto.randomUUID(); sessionStorage.setItem("salus_chatbot_session_id", o); const a = document.getElementById("salus-chat-launcher"), i = document.getElementById("salus-chat-window"), r = document.getElementById("salus-chat-close"), s = document.getElementById("salus-chat-send"), c = document.getElementById("salus-chat-input"), d = document.getElementById("salus-chat-body"), l = document.querySelector("#salus-chat-header h2"), u = a.querySelector(".chat-icon"), p = a.querySelector(".close-icon"); l.textContent = n.title; let f = !1; a.onclick = () => { const t = i.style.display === "flex", e = !t; i.style.display = e ? "flex" : "none", e && (c.focus(), u.style.display = "none", p.style.display = "block", f || (h(n.welcomeMessage, "bot"), f = !0)) }, r.onclick = () => { i.style.display = "none", u.style.display = "block", p.style.display = "none" }; function m() { s.disabled = c.value.trim() === "" } c.addEventListener("input", m), document.addEventListener("DOMContentLoaded", m); function h(t, e) { const n = document.createElement("div"); n.className = "salus-chat-message " + e; const o = typeof t == "string" ? t.trim() : JSON.stringify(t); return n.innerHTML = marked.parse(o), n.querySelectorAll("a").forEach(e => { e.target = "_blank", e.rel = "noopener noreferrer" }), d.appendChild(n), d.scrollTop = d.scrollHeight, n } function g() { const t = document.createElement("div"); t.className = "salus-chat-message bot", t.setAttribute("data-typing", "true"); const e = document.createElement("div"); e.className = "salus-typing-indicator"; for (let t = 0; t < 3; t++) { const n = document.createElement("span"); e.appendChild(n) } return t.appendChild(e), d.appendChild(t), d.scrollTop = d.scrollHeight, t } function v() { const t = d.querySelector("[data-typing]"); t && d.removeChild(t) } function y(t) { const e = document.createElement("div"); e.className = "salus-chat-message user", e.textContent = t, d.appendChild(e), d.scrollTop = d.scrollHeight } async function b() { const t = c.value.trim(); if (!t) return; y(t), c.value = "", m(), g(); try { const e = await fetch(n.webhookUrl, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ chatInput: t, sessionId: o }) }), a = await e.json(); v(), h(a?.output?.toString?.() || "No response from bot.", "bot") } catch (t) { console.error("Chat error:", t), v(), h("Server error. Please try again later.", "bot") } } s.onclick = b, c.addEventListener("keydown", t => { t.key === "Enter" && b() }) } }(); 