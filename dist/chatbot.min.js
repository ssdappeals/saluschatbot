!function(){const n={webhookUrl:"http://localhost:5678/webhook/d931c4a7-02f5-4359-918f-7ad3fae7b144/chat",title:"Salus Disability",welcomeMessage:"Hi There! Would you like a free Social Security consultation?",position:"bottom-right",primaryColor:"#f56447",secondaryColor:"#E4AE20"},e=document.createElement("style");e.textContent="\n    #salus-chat-launcher {\n      position: fixed;\n      bottom: 24px;\n      right: 24px;\n      width: 60px;\n      height: 60px;\n      background: linear-gradient(135deg, var(--secondary-color, #E4AE20), var(--primary-color, #F56447));\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      box-shadow: 0 4px 14px rgba(0,0,0,0.25);\n      z-index: 9999;\n      font-size: 28px;\n      color: white;\n    }\n\n    #salus-chat-launcher svg {\n      width: 28px;\n      height: 28px;\n      fill: white;\n    }\n\n    #salus-chat-launcher .close-icon {\n      display: none;\n      font-size: 32px;\n      line-height: 1;\n    }\n\n    #salus-chat-window {\n      position: fixed;\n      bottom: 96px;\n      right: 16px;\n      width: 100%;\n      max-width: 650px;\n      min-width: 320px;\n      height: 100%;\n      max-height: 650px;\n      min-height: 400px;\n      background: white;\n      border-radius: 16px;\n      box-shadow: 0 16px 32px rgba(0,0,0,0.25);\n      display: none;\n      flex-direction: column;\n      overflow: hidden;\n      font-family: sans-serif;\n      z-index: 9998;\n    }\n\n    #salus-chat-header {\n      background: #fff;\n      border-bottom: 1px solid #eee;\n      padding: 12px 16px;\n      display: flex;\n      align-items: center;\n    }\n\n    #salus-chat-header h2 {\n      font-size: 16px;\n      margin: 0;\n      flex: 1;\n    }\n\n    #salus-chat-close {\n      background: none;\n      border: none;\n      font-size: 28px;\n      font-weight: bold;\n      cursor: pointer;\n      color: #aaa;\n      padding: 4px 8px;\n      line-height: 1;\n    }\n\n    #salus-chat-body {\n      flex: 1;\n      padding: 12px;\n      overflow-y: auto;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .salus-chat-message {\n      margin-bottom: 8px;\n      max-width: 80%;\n      padding: 10px 14px;\n      border-radius: 16px;\n      line-height: 1.4;\n      font-size: 14px;\n    }\n\n    .salus-chat-message.user {\n      align-self: flex-end;\n      background: var(--primary-color, #ef7f3a);\n      color: white;\n    }\n\n    .salus-chat-message.bot {\n      align-self: flex-start;\n      background: #f0f0f0;\n      color: #333;\n    }\n\n    .salus-chat-message.bot a {\n      color: #0066cc;\n      text-decoration: underline;\n      word-break: break-word;\n    }\n\n    .salus-chat-message.bot p,\n    .salus-chat-message.bot ul,\n    .salus-chat-message.bot ol,\n    .salus-chat-message.bot li {\n      margin: 0;\n      padding: 0;\n      line-height: 1.35;\n    }\n\n    .salus-chat-message.bot p + p {\n      margin-top: 0.4em;\n    }\n\n    .salus-chat-message.bot ul,\n    .salus-chat-message.bot ol {\n      margin-left: 1em;\n    }\n\n    #salus-chat-input-container {\n      display: flex;\n      border-top: 1px solid #eee;\n    }\n\n    #salus-chat-input {\n      flex: 1;\n      padding: 14px;\n      border: none;\n      outline: none;\n      font-size: 16px;\n    }\n\n    #salus-chat-send {\n      background: var(--primary-color, #f56447);\n      border: none;\n      color: white;\n      padding: 0 20px;\n      font-size: 16px;\n      cursor: pointer;\n    }\n\n    #salus-chat-send:disabled {\n      background-color: #ccc;\n      cursor: not-allowed;\n    }\n\n    .salus-typing-indicator {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      gap: 4px;\n    }\n\n    .salus-typing-indicator span {\n      width: 8px;\n      height: 8px;\n      background-color: #999;\n      border-radius: 50%;\n      animation: salus-bounce 1.4s infinite ease-in-out both;\n    }\n\n    .salus-typing-indicator span:nth-child(1) { animation-delay: -0.32s; }\n    .salus-typing-indicator span:nth-child(2) { animation-delay: -0.16s; }\n    .salus-typing-indicator span:nth-child(3) { animation-delay: 0; }\n\n    @keyframes salus-bounce {\n      0%, 80%, 100% { transform: scale(0); }\n      40% { transform: scale(1); }\n    }\n\n    @media (max-width: 640px) {\n      #salus-chat-window {\n        position: fixed;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        width: 100vw !important;\n        height: 100vh !important;\n        max-width: none !important;\n        max-height: none !important;\n        min-width: 100vw !important;\n        min-height: 100vh !important;\n        border-radius: 0 !important;\n        z-index: 10001 !important;\n      }\n    }\n  ",document.head.appendChild(e);const t=document.createElement("div");t.innerHTML='\n    <div id="salus-chat-launcher" aria-label="Open chat">\n      <svg class="chat-icon" viewBox="0 0 24 24"><path d="M12 3C6.486 3 2 6.589 2 11c0 1.905.812 3.661 2.174 5.07L2 21l5.137-1.63A11.35 11.35 0 0 0 12 19c5.514 0 10-3.589 10-8s-4.486-8-10-8Z"/></svg>\n      <span class="close-icon">&times;</span>\n    </div>\n\n    <div id="salus-chat-window">\n      <div id="salus-chat-header">\n        <h2></h2>\n        <button id="salus-chat-close">&times;</button>\n      </div>\n      <div id="salus-chat-body"></div>\n      <div id="salus-chat-input-container">\n        <input id="salus-chat-input" placeholder="Type a message..." />\n        <button id="salus-chat-send" disabled>Send</button>\n      </div>\n    </div>\n  ',document.body.appendChild(t),window.initSalusChat=function(e={}){const t={...n,...e};document.documentElement.style.setProperty("--primary-color",t.primaryColor),document.documentElement.style.setProperty("--secondary-color",t.secondaryColor);const a=crypto.randomUUID();sessionStorage.setItem("salus_chatbot_session_id",a);const o=document.getElementById("salus-chat-launcher"),s=document.getElementById("salus-chat-window"),i=document.getElementById("salus-chat-close"),l=document.getElementById("salus-chat-send"),r=document.getElementById("salus-chat-input"),c=document.getElementById("salus-chat-body"),d=document.querySelector("#salus-chat-header h2"),u=o.querySelector(".chat-icon"),p=o.querySelector(".close-icon");d.textContent=t.title;let h=!1;function m(){l.disabled=""===r.value.trim()}function g(n,e){const t=document.createElement("div");t.className="salus-chat-message "+e;const a="string"==typeof n?n.trim():JSON.stringify(n);return t.innerHTML=marked.parse(a),t.querySelectorAll("a").forEach((n=>{n.target="_blank",n.rel="noopener noreferrer"})),c.appendChild(t),c.scrollTop=c.scrollHeight,t}function y(){const n=c.querySelector("[data-typing]");n&&c.removeChild(n)}async function x(){const n=r.value.trim();if(n){!function(n){const e=document.createElement("div");e.className="salus-chat-message user",e.textContent=n,c.appendChild(e),c.scrollTop=c.scrollHeight}(n),r.value="",m(),function(){const n=document.createElement("div");n.className="salus-chat-message bot",n.setAttribute("data-typing","true");const e=document.createElement("div");e.className="salus-typing-indicator";for(let n=0;n<3;n++){const n=document.createElement("span");e.appendChild(n)}n.appendChild(e),c.appendChild(n),c.scrollTop=c.scrollHeight}();try{const e=await fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatInput:n,sessionId:a})}),o=await e.json();y(),g(o?.output?.toString?.()||"No response from bot.","bot")}catch(n){console.error("Chat error:",n),y(),g("Server error. Please try again later.","bot")}}}o.onclick=()=>{const n=!("flex"===s.style.display);s.style.display=n?"flex":"none",n?(r.focus(),u.style.display="none",p.style.display="block",h||(g(t.welcomeMessage,"bot"),h=!0)):(u.style.display="block",p.style.display="none")},i.onclick=()=>{s.style.display="none",u.style.display="block",p.style.display="none"},r.addEventListener("input",m),document.addEventListener("DOMContentLoaded",m),l.onclick=x,r.addEventListener("keydown",(n=>{"Enter"===n.key&&x()}))}}();